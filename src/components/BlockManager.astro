---
import TitleWithDescription from "@/components/TitleWithDescription.astro";
import type { Component } from "../interfaces/page";
import Articles from "./Articles.astro";
import CardsSection from "./CardsSection.astro";
import Hero from "./Hero.astro";
import Portfolio from "./PortfolioSection.astro";
import PriceList from "./PriceList.astro";
import Projects from "./Projects.astro";
import SectionWithBlogPosts from "./SectionWithBlogPosts.astro";
import SectionWithForm from "./SectionWithForm.astro";
import SectionWithImage from "./SectionWithImage.astro";

interface Props {
  components: Component[];
}

const { components } = Astro.props;
---

{
  components.map((component) => {
    switch (component.__component) {
      case "components.hero":
        return (
          <Hero
            image={component.image!}
            title={component.title!}
            description={component.description!}
            buttons={component.buttons!}
            video={component.video!}
          />
        );
      case "components.section-with-cards":
        return (
          <CardsSection
            title={component.title!}
            description={component.description!}
            cards={component.cards!}
            buttons={component.buttons!}
          />
        );
      case "components.portfolio-section":
        return (
          <Portfolio
            title={component.title!}
            description={component.description!}
            button={component.button!}
            images={component.images!}
          />
        );
      case "components.section-with-image":
        return (
          <SectionWithImage
            animateOnScroll={component.animateOnScroll ? "true" : "false"}
            button={component.button}
            featured={component.featured!}
            title={component.title!}
            description={component.description!}
            image={component.image!}
            reversed={component.reversed!}
            id={component.id!}
          />
        );
      case "components.section-with-form":
        return (
          <SectionWithForm
            title={component.title!}
            description={component.description!}
            fields={component.fields!}
            id={component.id}
            button={component.button!}
            address={component.address!}
            phone={component.phone!}
          />
        );
      case "components.articles":
        return (
          <Articles
            title={component.title!}
            description={component.description!}
          />
        );
      case "components.portfolio":
        return (
          <Projects
            title={component.title!}
            description={component.description!}
          />
        );
      case "components.price-list":
        return (
          <PriceList
            title={component.title!}
            table={component.table!}
            options={component.options}
          />
        );
      case "components.section-with-blog-posts":
        return (
          <SectionWithBlogPosts
            title={component.title!}
            description={component.description!}
            button={component.button!}
          />
        );
      case "components.title-and-description":
        return (
          <TitleWithDescription
            title={component.title!}
            description={component.description!}
          />
        );
    }
  })
}
